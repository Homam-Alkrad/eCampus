<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ Data Structures</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }

        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        h3 {
            color: #2c3e50;
            margin-top: 30px;
        }

        .question {
            margin-bottom: 40px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .options {
            list-style-type: none;
            background-color: #f0f7fa;
            border: 1px solid #c0d9e5;
            border-radius: 5px;
            padding: 12px 20px;
            margin-bottom: 25px;
        }

        .option {
            margin: 10px 0;
            padding: 10px 15px;
            background-color: #fff;
            border-left: 4px solid #3498db;
            border-radius: 3px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background-color: #e8f4fc;
            transform: translateX(5px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        }

        .option-label {
            font-weight: bold;
            margin-right: 10px;
            color: #3498db;
        }

        .option.selected {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
        }

        .option.incorrect {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
        }

        .option.correct {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
        }

        .code-block {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            font-family: monospace;
            border: 1px solid #dee2e6;
            margin: 15px 0;
            white-space: pre;
            line-height: 1.4;
        }

        .btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin: 20px 0;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        #result-section {
            background-color: #f0f7fa;
            border: 1px solid #c0d9e5;
            border-radius: 5px;
            padding: 20px;
            margin-top: 40px;
            display: none;
        }

        .result-message {
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .wrong-answers {
            margin-top: 20px;
        }

        .question-result {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-left: 4px solid #dc3545;
            border-radius: 3px;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .code-block {
                font-size: 13px;
            }

            .option {
                padding: 8px 10px;
            }
        }
    </style>
</head>

<body>
    <section id="oop-quiz" class="section">
        <h2>C++ Data Structures Quiz</h2>
        <div id="quiz-container">

            <div class="question" data-id="1">
                <h3>1. Which of the following statements will cause a dangling pointer?</h3>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> int *p = new int; delete p;
                    </li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> int *p = new int; p = 50;
                    </li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> int *p = new int; p = new
                        int;</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> int *p = 0, b; p = &b;</li>
                </ul>
            </div>

            <div class="question" data-id="2">
                <h3>2. Consider the following code. Which of the following is invalid?</h3>
                <pre class="code-block"><code>
int a[10], *p1, *p2;
p1 = &a[4];
p2 = &a[6];</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> p1 = p1 / 2;</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> p2 = p2 - 2;</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> p2 = p2 + 8;</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> p2 = 0;</li>
                </ul>
            </div>
            <div class="question" data-id="3">
                <h3>3. What is the output of the following code?</h3>
                <pre class="code-block"><code>
int freq[7] = {1, 2, 3, 4, 5, 6, 7};
cout << freq[*freq + 1];</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> 2</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> 5</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> 6</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> 3</li>
                </ul>
            </div>

            <div class="question" data-id="4">
                <h3>4. What is the output of this code?</h3>
                <pre class="code-block"><code>
int v1 = 2;
int* p1 = &v1;
p1 = 0;
cout << v1 << endl;</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> 2</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> Garbage address</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> Unknown value</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> NULL</li>
                </ul>
            </div>

            <div class="question" data-id="5">
                <h3>5. What is the output of the following?</h3>
                <pre class="code-block">
int b[3] = {3, 2, 1};
cout << *(b + 1) << endl;</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> 4</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> 3</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> An address</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> 2</li>
                </ul>
            </div>

            <div class="question" data-id="6">
                <h3>6. What will be the output of the following?</h3>
                <pre class="code-block"><code>
int x[5] = {1, 2, 3, 4, 5};
int* ptr = x + 1;
*(ptr + 1) = 10;
cout << ptr[0] << endl;</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> 2</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> 5</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> 10</li>
                    <li class="option" data-value="C"><span class="option-label">D)</span> 4 </li>
                </ul>
            </div>

            <div class="question" data-id="7">
                <h3>7. Assume the linked list named head has at least two nodes. Which of the following prints the
                    second node’s data?</h3>
                <pre class="code-block"><code>
Linked list structure:
head -> node1 -> node2 -> ...</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> cout << list->
                            next->next->data;</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> cout << list->next->data;
                    </li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> cout << list->data->data;
                    </li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> cout << list->data;</li>
                </ul>
            </div>
            <div class="question" data-id="8">
                <h3>8. What is the output after executing the following piece of code: <br>List: 3→4→7→11→23→NULL<br></h3>
                <pre class="code-block"><code>
    while(List->next != NULL)
    {
        cout << List->next->data;
        List = List->next->next;
    }</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> 3471123</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> 4711</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> 471123</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> None</li>
                </ul>
            </div>
            
            <div class="question" data-id="9">
                <h3>9. Which one of the following can replace the ???? to release/delete the memory allocated to a linked-list named "n" in the while loop below?</h3>
                <pre class="code-block"><code>
node *m = n;
    while(m != 0){
            ????
        }</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> delete(m); n = n->next;</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> n = n->next; delete(n);</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> m = n; n = m->next; delete(m);</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> m = n; delete(n); n = m->next;</li>
                </ul>
            </div>
            
            <div class="question" data-id="10">
                <h3>10. You are given a linked list: 3 → 4 → 7 → 11 → 23 → NULL
                    <br>
                    Which of the following code snippets correctly deletes the node that q is pointing to</h3>
                <pre class="code-block"><code style="color: red;">p points to the node containing 4.
q points to the node containing 11.</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> p->next = q->next; delete q;</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> p->next->next = q->next; delete q;</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> p->next->next = q; delete q;</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> p->next = q->next; delete p;</li>
                </ul>
            </div>
            
            <div class="question" data-id="11">
                <h3>11.  In a circular linked list, what does the following C++ code accomplish:</h3>
                <pre class="code-block"><code>
Node* temp = head;        
head = head->next;        
Node* temp2 = head;       

while (temp2->next != temp)
    temp2 = temp2->next;
temp2->next = head;
delete temp;                    
</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span>  Deletes the first node from a circular linked list</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span>  Deletes the last node from a circular linked list</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span>  Deletes the first node from a doubly linked list</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span>  Deletes the last node from a doubly linked list</li>
                </ul>
            </div>
            
            <div class="question" data-id="12">
                <h3>12. Suppose that the linked list named List is defined as pictured below:
                   <br> List → [A] → [B] → [C] → [D] → NULL<br>
                    What is the output after executing the following piece of code </h3>
               
                <pre class="code-block"><code>
Node *P = List->next->next; 
P->next->next = List;
P = P->next->next;
cout << P->data;               
</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> A</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> B</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> C</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> D</li>
                </ul>
            </div>
            
            <div class="question" data-id="13">
                <h3>13. Which of the following statements about the given code is FALSE?</h3>
                <pre class="code-block"><code>
while(head->next != NULL)
    {
        cout << head->data;
        head = head->next;
    }</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> The program may crash if the list is initially empty.</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> The loop skips printing the last node in the list.</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> The original head pointer remains unchanged after the loop.</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> None of the above statements are false.</li>
                </ul>
            </div>
            
            <div class="question" data-id="14">
                <h3>15. What is the output of the following C++ code segment?</h3>
                <pre class="code-block"><code>
int number = 10;
int *ptr = &number;
cout << *ptr << endl;
*ptr = 20;
cout << number << endl;</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> 10, 20</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> 20, 20</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> 10, 10</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> 20, 10</li>
                </ul>
            </div>
            
            <div class="question" data-id="15">
                <h3>16. Does the following C++ code cause a memory leak or a dangling pointer?</h3>
                <pre class="code-block"><code>
int *p = new int;
int *q = new int;
int *r;
*p = 17;
r = q;
*q = 42;
p = q;
delete r;</code></pre>
                <ul class="options">
                    <li class="option" data-value="A"><span class="option-label">A)</span> No, there are no memory leak or dangle pointer(s)</li>
                    <li class="option" data-value="B"><span class="option-label">B)</span> Yes, there is a memory leak only</li>
                    <li class="option" data-value="C"><span class="option-label">C)</span> Yes, there is a dangling pointer(s) only</li>
                    <li class="option" data-value="D"><span class="option-label">D)</span> Yes, there is a memory leak and a dangle pointer(s)</li>
                </ul>
            </div>
            
            <!-- بعدين بكمل لك "ثالثًا: الأسئلة مع كود طويل" بنفس التنسيق -->




        </div>
        <button id="submit-quiz" class="btn">Submit Quiz</button>
        <div id="result-section">
            <h2>Quiz Results</h2>
            <div class="result-message" id="result-message"></div>
            <div class="wrong-answers" id="wrong-answers"></div>
            <button id="retry-button" class="btn">Retry Quiz</button>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Correct answers
            const correctAnswers = {
                1: 'A', // Dangling pointer
                2: 'A', // Invalid code (p1 = p1 / 2)
                3: 'D', // freq[*freq+1] => 5
                4: 'A', // Output v1 = 2
                5: 'D', // *(b+1) = 2
                6: 'A', // ptr[0] = 2
                7: 'B',  // list->next->data
                8: 'D', // Dangling pointer
                9: 'C', // Invalid code (p1 = p1 / 2)
                10: 'B', // freq[*freq+1] => 5
                11: 'A', // Output v1 = 2
                12: 'A', // *(b+1) = 2
                13: 'C', // ptr[0] = 2
                14: 'A',  // list->next->data
                15: 'D'
            };
            let userAnswers = {};

            // Add click event to options
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function () {
                    // Get the question container
                    const questionContainer = this.closest('.question');
                    const questionId = questionContainer.getAttribute('data-id');

                    // Remove 'selected' class from all options in this question
                    const questionOptions = questionContainer.querySelectorAll('.option');
                    questionOptions.forEach(opt => opt.classList.remove('selected'));

                    // Add 'selected' class to clicked option
                    this.classList.add('selected');

                    // Store user answer
                    userAnswers[questionId] = this.getAttribute('data-value');

                    // Check if all questions are answered to enable submit button
                    const submitButton = document.getElementById('submit-quiz');
                    if (Object.keys(userAnswers).length === Object.keys(correctAnswers).length) {
                        submitButton.disabled = false;
                    }
                });
            });

            // Submit quiz
            const submitButton = document.getElementById('submit-quiz');
            submitButton.addEventListener('click', function () {
                // Calculate score
                let score = 0;
                let wrongAnswers = [];

                for (let questionId in correctAnswers) {
                    const userAnswer = userAnswers[questionId] || null;
                    const correctAnswer = correctAnswers[questionId];

                    // Get the question container
                    const questionContainer = document.querySelector(`.question[data-id="${questionId}"]`);

                    // Get selected option
                    const selectedOption = questionContainer.querySelector(`.option[data-value="${userAnswer}"]`);

                    // Get correct option
                    const correctOption = questionContainer.querySelector(`.option[data-value="${correctAnswer}"]`);

                    // Check if answer is correct
                    if (userAnswer === correctAnswer) {
                        score++;
                        if (selectedOption) {
                            selectedOption.classList.add('correct');
                        }
                    } else {
                        if (selectedOption) {
                            selectedOption.classList.add('incorrect');
                        }
                        if (correctOption) {
                            correctOption.classList.add('correct');
                        }

                        // Store wrong answer details
                        wrongAnswers.push({
                            questionId: questionId,
                            userAnswer: userAnswer,
                            correctAnswer: correctAnswer,
                            questionText: questionContainer.querySelector('h3').textContent
                        });
                    }
                }

                // Display results
                const resultSection = document.getElementById('result-section');
                const resultMessage = document.getElementById('result-message');
                const wrongAnswersContainer = document.getElementById('wrong-answers');

                resultMessage.textContent = `You scored ${score} out of ${Object.keys(correctAnswers).length}`;

                // Display wrong answers
                wrongAnswersContainer.innerHTML = '';
                if (wrongAnswers.length > 0) {
                    wrongAnswersContainer.innerHTML = '<h3>Incorrect Answers:</h3>';
                    wrongAnswers.forEach(wrong => {
                        const wrongDiv = document.createElement('div');
                        wrongDiv.className = 'question-result';
                        wrongDiv.innerHTML = `
                            <p><strong>${wrong.questionText}</strong></p>
                            <p>Your answer: ${wrong.userAnswer || 'Not answered'}</p>
                            <p>Correct answer: ${wrong.correctAnswer}</p>
                        `;
                        wrongAnswersContainer.appendChild(wrongDiv);
                    });
                }

                // Show result section
                resultSection.style.display = 'block';

                // Disable submit button and options
                submitButton.disabled = true;
                options.forEach(option => {
                    option.style.pointerEvents = 'none';
                });

                // Scroll to results
                resultSection.scrollIntoView({ behavior: 'smooth' });
            });

            // Retry quiz
            const retryButton = document.getElementById('retry-button');
            retryButton.addEventListener('click', function () {
                // Reset user answers
                userAnswers = {};

                // Remove all selected, correct, and incorrect classes
                const allOptions = document.querySelectorAll('.option');
                allOptions.forEach(option => {
                    option.classList.remove('selected', 'correct', 'incorrect');
                    option.style.pointerEvents = 'auto';
                });

                // Hide result section
                const resultSection = document.getElementById('result-section');
                resultSection.style.display = 'none';

                // Reset submit button
                const submitButton = document.getElementById('submit-quiz');
                submitButton.disabled = true;

                // Scroll to top
                window.scrollTo(0, 0);
            });
        });
    </script>
</body>

</html>